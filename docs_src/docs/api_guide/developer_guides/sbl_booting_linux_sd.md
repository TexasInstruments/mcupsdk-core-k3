# SBL Booting Linux From SD CARD {#SBL_BOOTING_LINUX_SD_CARD}

[TOC]

## Introduction

\cond SOC_AM62AX
- SBL booting Linux from SD card (see \ref EXAMPLES_DRIVERS_SBL_SD_LINUX) is a secondary bootloader application that boots Linux on A53 core and RTOS/NORTOS application on R5, C7x cores.
- The bootloader makes use of 5 appimages
    - A Linux appimage containing the **Linux binaries (ATF, OPTEE, A53 SPL)**.
    - tiboot3.bin with **SBL SD, TIFS, BoardConfig**
    - Appimage for **MCU R5**
    - Appimage for **C75**
    - Appimage for **DM R5**
\endcond
\cond SOC_AM62PX
- SBL booting Linux from eMMC (see \ref EXAMPLES_DRIVERS_SBL_EMMC_LINUX_MULTISTAGE) is a secondary bootloader application that boots Linux on A53 core and RTOS/NORTOS application on R5 core.
- The bootloader makes use of 4 appimages
    - A Linux appimage containing the **Linux binaries (ATF, OPTEE, A53 SPL)**.
    - tiboot3.bin with **SBL SD, TIFS, BoardConfig**
    - Appimage for **MCU R5**
    - Appimage for **WKUP R5**
\endcond
- The Linux appimage can be generated by using \ref LINUX_APPIMAGE_GEN_TOOL
- The appimages will be copied to SD card, the SBL parses the appimages from the boot partition, loads and run the cores.

## Bootflow for SBL booting linux from SD Card

\cond SOC_AM62AX
- The bootflow for SBL booting Linux is as follows

    \imageStyle{sbl_booting_linux_sd_am62ax.png,width:60%}
    \image html sbl_booting_linux_sd_am62ax.png "Bootflow for SBL booting Linux"
\endcond

\cond SOC_AM62PX
- The bootflow for SBL booting Linux is as follows

    \imageStyle{sbl_booting_linux_sd_am62px.png,width:60%}
    \image html sbl_booting_linux_sd_am62px.png "Bootflow for SBL booting Linux"
\endcond

## SD Card Partitioning

\cond SOC_AM62AX
- SD card uses two partitions to boot Linux
    - A boot partition
        - tiboot3.bin
        - mcu_r5_image
        - dm_r5_image
        - linux_a53_image
        - c7x_image
    - A ext4 partition in the user data area containing
        - Linux Kernel image
        - Linux DTB
        - Linux file system
\endcond

\cond SOC_AM62PX
- SD card uses two partitions to boot Linux
    - A boot partition
        - tiboot3.bin
        - mcu_r5_image
        - wkup_r5_image
        - linux_a53_image
    - A ext4 partition in the user data area containing
        - Linux Kernel image
        - Linux DTB
        - Linux file system
\endcond

## See Also
\cond SOC_AM62AX || SOC_AM62PX
- \ref EXAMPLES_DRIVERS_SBL_SD_LINUX
\endcond
- \ref LINUX_APPIMAGE_GEN_TOOL