# EQEP frequency measurement {#EXAMPLES_DRIVERS_EQEP_FREQUENCY_MEASUREMENT}

[TOC]

# Introduction

This example uses the EQEP to measure frequency of a signal generated by ePWM.

The example does the below
- Configures EPWM to generate a signal and EQEP to measure frequency of this generated signal (a loopback connection is required).
- The application runs for the specified time and the frequency calculation is done using the EPWM ISR.
- After the specified time, the application checks if the measured frequency was within range of the generated frequency.
\cond SOC_AM263X
# External Connections
- Connect eQEP0A to ePWM0A (simulates eQEP Phase A signal)
- Connect eQEP0B to ePWM0B (simulates eQEP Phase B signal)
- Connect eQEP0I to GPIO48 (simulates eQEP Index Signal)

## AM263X-CC

When using AM263x-CC with TMDSHSECDOCK (HSEC180 controlCARD Baseboard Docking Station)
- Connect Boosterpack header Pin 11 to eQEP0/SFDM1 Header J24 Pin 1
- Connect Boosterpack header Pin 59 to eQEP0/SFDM1 Header J24 Pin 2
- Connect Boosterpack header Pin 40 to eQEP0/SFDM1 Header J24 Pin 3

## AM263X-LP
- Connect eQEP0A to ePWM0A (simulates eQEP Phase A signal)
- Connect eQEP0B to ePWM0B (simulates eQEP Phase B signal)
- Connect eQEP0I to GPIO48 (simulates eQEP Index Signal)

- Connect Boosterpack header J2/J4 Pin 11 to J15 pin 2
- Connect Boosterpack header J6/J8 Pin 59 to J24 pin 3
- Connect Boosterpack header J2/J4 Pin 40 to J24 pin 2

\endcond

\cond SOC_AM62AX
# External Connections
- Connect EPWM0A to EQEP2A (EPWM simulates EQEP signal)
- Connect J3 Pin 24 (EPWM0A) to J3 Pin 28 (EQEP2A)
\endcond

\cond SOC_AM62DX
# External Connections
This example uses the Debug Header(J3) on Audio expansion card 1 for testing on AM62DX-EVM.
- Connect EPWM0A to EQEP0A (EPWM simulates EQEP signal)
- Connect J3 Pin 13  on AEC1 (EPWM0A) to J3 Pin 8 on AEC1 (EQEP0A)
\endcond

\cond SOC_AM62X
# External Connections

# AM62X-SK
- Connect EPWM0A to EQEP2A (EPWM simulates EQEP signal)
- Connect J3 Pin 24 (EPWM0A) to J3 Pin 28 (EQEP2A)

# AM62X-SIP-SK
- Connect EPWM0A to EQEP2A (EPWM simulates EQEP signal)
- Connect J3 Pin 24 (EPWM0A) to J3 Pin 28 (EQEP2A)

# AM62X-SK-LP
- Connect EPWM0A to EQEP2A (EPWM simulates EQEP signal)
- Connect J3 Pin 24 (EPWM0A) to J3 Pin 28 (EQEP2A)

\endcond

# Supported Combinations {#EXAMPLES_DRIVERS_EQEP_FREQUENCY_MEASUREMENT_COMBOS}

\cond SOC_AM263X

 Parameter      | Value
 ---------------|-----------
 CPU + OS       | r5fss0-0 nortos
 Toolchain      | ti-arm-clang
 Board          | @VAR_BOARD_NAME_LOWER, @VAR_LP_BOARD_NAME_LOWER
 Example folder | examples/drivers/eqep/eqep_frequency_measurement/

\endcond

\cond SOC_AM62X

 Parameter      | Value
 ---------------|-----------
 CPU + OS       | a53ss0-0 freertos
 Toolchain      | arm.gnu.aarch64-none
 Board          | @VAR_BOARD_NAME_LOWER, @VAR_SK_LP_BOARD_NAME_LOWER, @VAR_SIP_SK_BOARD_NAME_LOWER
 Example folder | examples/drivers/eqep/eqep_frequency_measurement/

\endcond

\cond SOC_AM62AX

 Parameter      | Value
 ---------------|-----------
 CPU + OS       | a53ss0-0 nortos
 ^              | r5fss0-0 freertos
 ^              | c75ss0-0 freertos
 Toolchain      | arm.gnu.aarch64-none
 ^              | ti-arm-clang
 ^              | ti-c7000
 Board          | @VAR_BOARD_NAME_LOWER
 Example folder | examples/drivers/eqep/eqep_frequency_measurement/

\endcond

\cond SOC_AM62DX

 Parameter      | Value
 ---------------|-----------
 CPU + OS       | a53ss0-0 nortos
 ^              | a53ss0-0 freertos
 ^              | c75ss0-0 freertos
 Toolchain      | arm.gnu.aarch64-none
 ^              | ti-c7000
 Board          | @VAR_BOARD_NAME_LOWER
 Example folder | examples/drivers/eqep/eqep_frequency_measurement/

\endcond

# Steps to Run the Example

- **When using CCS projects to build**, import the CCS project for the required combination
  and build it using the CCS project menu (see \ref CCS_PROJECTS_PAGE).
- **When using makefiles to build**, note the required combination and build using
  make command (see \ref MAKEFILE_BUILD_PAGE)
- Establish connections as mentioned in External Connections section
- Launch a CCS debug session and run the executable, see \ref CCS_LAUNCH_PAGE
- View the UART console logs for results

# See Also

\ref DRIVERS_EQEP_PAGE

# Sample Output

Shown below is a sample output when the application is run,

\code
EQEP Frequency Measurement Test Started ...
Please ensure EPWM to EQEP loopback is connected...
Please wait 10 seconds ...
Expected frequency = 10000 Hz, Measured frequency = 10000 Hz
EQEP Frequency Measurement Test Passed!!
All tests have passed!!
\endcode
